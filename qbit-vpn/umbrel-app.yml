# umbrel-app.yml
# This file defines the user-facing configuration for the qBittorrent+VPN app.
manifestVersion: 1
id: qbittorrent-vpn
name: qBittorrent with VPN
version: "4.6.5"
category: Files
tagline: A feature-rich BitTorrent client routed through a VPN.
description: >-
  qBittorrent is a free and open-source BitTorrent client.

  This package automatically routes all of qBittorrent's traffic through a
  built-in VPN client powered by Gluetun. This enhances your privacy and
  security by hiding your IP address.

  You must configure your VPN provider in the settings before starting the app.
  Supports many providers like PIA, NordVPN, Mullvad, and more.
developer: The qBittorrent project
author: diseric
port: 8080

# This tells Umbrel to use the docker-compose.yml file for its setup.
compose:
  file: docker-compose.yml

# This section defines the settings form that the user will see in the Umbrel UI.
# The values entered here will be passed as environment variables to the
# docker-compose.yml file.
settings:
  title: VPN Configuration
  description: Enter your VPN provider details here. The app will not work until this is configured.
  groups:
    - id: provider
      title: VPN Provider
      description: Select your VPN provider and protocol.
      fields:
        - id: VPN_SERVICE_PROVIDER
          label: VPN Provider
          type: select
          options:
            - id: private internet access
              label: Private Internet Access
            - id: nordvpn
              label: NordVPN
            - id: mullvad
              label: Mullvad
            - id: surfshark
              label: Surfshark
            - id: protonvpn
              label: ProtonVPN
            - id: custom
              label: Custom (OpenVPN)
          defaultValue: private internet access
        - id: OPENVPN_PROTOCOL
          label: VPN Protocol
          type: select
          options:
            - id: udp
              label: UDP (Faster)
            - id: tcp
              label: TCP (More Reliable)
          defaultValue: udp

    - id: credentials
      title: Credentials
      description: Your VPN account login details.
      fields:
        - id: OPENVPN_USER
          label: OpenVPN User
          type: text
          placeholder: "p1234567"
        - id: OPENVPN_PASSWORD
          label: OpenVPN Password
          type: password
          placeholder: "your-password"
        - id: WIREGUARD_PRIVATE_KEY
          label: WireGuard Private Key (optional)
          type: password
          placeholder: "your-wireguard-private-key"
        - id: WIREGUARD_ADDRESSES
          label: WireGuard IP Address (optional)
          type: text
          placeholder: "e.g. 10.2.0.5/32"

    - id: connection
      title: Server Connection
      description: Choose which server region to connect to.
      fields:
        - id: SERVER_COUNTRIES
          label: Country (e.g., Switzerland)
          type: text
          placeholder: "Switzerland"
        - id: SERVER_CITIES
          label: City (e.g., Zurich)
          type: text
          placeholder: "Zurich"

# A list of required permissions for the app.
permissions:
  - "data-dir"

# Submission details.
submission:
  website: https://www.qbittorrent.org/
  container_source: https://hotio.dev/containers/qbittorrent/
  app_source: https://github.com/diseric/diserics-app-store.git
